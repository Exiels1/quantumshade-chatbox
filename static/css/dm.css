/* QuantumShade â€” Exiels1 DM */
:root{
  --bg-1: #070607;
  --bg-2: #0b0710;
  --glass: rgba(255,255,255,0.03);
  --neon: #39ff14;
  --accent: #6be7ff;
  --violet: #8a5cff;
  --muted: #9b9b9b;
  --panel: rgba(255,255,255,0.02);
  --radius: 14px;
  --transition: 250ms cubic-bezier(.2,.9,.3,1);
}

/* Root layout */
.qs-dm-root {
  position: relative;
  height: calc(100vh - 60px);
  display: grid;
  grid-template-columns: 320px 1fr;
  background: linear-gradient(180deg, var(--bg-1), var(--bg-2));
  color: #eaeaea;
  overflow: hidden;
  font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system;
}

/* faint animated lightning background */
.qs-lightning {
  position: absolute;
  inset: 0;
  background-image: url('/static/img/lightning-veil.svg'); /* optional asset; keep subtle */
  opacity: 0.06;
  mix-blend-mode: screen;
  pointer-events: none;
  animation: drift 20s linear infinite;
}
@keyframes drift { from{transform:translateY(0)} to{transform:translateY(-40px)} }

/* Sidebar */
.qs-sidebar {
  padding: 18px 12px;
  border-right: 1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
  display:flex;
  flex-direction:column;
  gap:14px;
}
.qs-profile { display:flex; align-items:center; gap:12px; padding:6px 8px; }
.qs-avatar-wrap { position:relative; width:54px; height:54px; }
.qs-avatar-wrap.small { width:44px; height:44px; }
.qs-avatar { width:100%; height:100%; border-radius:50%; object-fit:cover; border:2px solid rgba(255,255,255,0.03); }
.qs-avatar-glow { position:absolute; inset:-6px; border-radius:50%; box-shadow:0 0 18px rgba(57,255,20,0.07), 0 0 34px rgba(107,231,255,0.03); pointer-events:none; }
.qs-username { font-weight:700; color:var(--neon); text-shadow:0 2px 12px rgba(57,255,20,0.06); }

/* Search */
.qs-search input { width:100%; padding:10px 14px; border-radius:22px; background:#0f0f10; border:1px solid rgba(255,255,255,0.02); color:#ddd; outline:none; transition:var(--transition); }
.qs-search input:focus { box-shadow:0 0 12px rgba(107,231,255,0.03); transform:translateY(-1px); }

/* Chat list */
.qs-chat-list { overflow:auto; padding-right:6px; display:flex; flex-direction:column; gap:6px; }
.qs-chat-item { display:flex; align-items:center; gap:12px; padding:10px; border-radius:10px; text-decoration:none; color:inherit; transition:var(--transition); }
.qs-chat-item:hover { transform:translateX(4px); background:linear-gradient(90deg, rgba(107,231,255,0.02), rgba(57,255,20,0.01)); }
.qs-chat-item.active { background: linear-gradient(90deg, rgba(57,255,20,0.03), rgba(107,231,255,0.02)); box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02); border-left:3px solid var(--neon); padding-left:8px; }
.qs-chat-avatar { width:48px; height:48px; border-radius:50%; object-fit:cover; }
.qs-chat-meta { flex:1; min-width:0; }
.qs-chat-name { font-weight:700; font-size:0.95rem; color:#e8ffe8; }
.qs-chat-preview { font-size:0.85rem; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:160px; }

/* Chat panel */
.qs-chat-panel { display:flex; flex-direction:column; background:linear-gradient(180deg,#060607, #07060a); }
.qs-header { display:flex; justify-content:space-between; align-items:center; padding:14px 18px; border-bottom:1px solid rgba(255,255,255,0.02); }
.qs-header-left { display:flex; align-items:center; gap:12px; }
.qs-header-info .qs-chat-name { font-size:1.05rem; color:var(--accent); font-weight:800; }
.qs-chat-sub { font-size:0.85rem; color:var(--muted); }

/* messages area */
.qs-messages { flex:1; padding:22px; overflow:auto; display:flex; flex-direction:column; gap:10px; scroll-behavior:smooth; }
.qs-empty-spot { color:var(--muted); text-align:center; margin-top:80px; }

.qs-message { display:flex; max-width:80%; }
.qs-message.sent { align-self:flex-end; justify-content:flex-end; transform:translateY(0); animation:msgIn 240ms ease; }
.qs-message.received { align-self:flex-start; animation:msgIn 240ms ease; }
@keyframes msgIn { from{opacity:0; transform:translateY(6px) scale(0.99)} to{opacity:1; transform:translateY(0) scale(1)} }

.qs-bubble { padding:10px 14px; border-radius:12px; box-shadow: 0 6px 18px rgba(0,0,0,0.4); position:relative; }
.qs-message.sent .qs-bubble { background: linear-gradient(180deg, #bfffa3, #39ff14); color:#030303; border-bottom-right-radius:6px; }
.qs-message.received .qs-bubble { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); color:#eaeaea; border-bottom-left-radius:6px; box-shadow: 0 6px 24px rgba(106,72,255,0.02); }
.qs-msg-content { white-space:pre-wrap; word-break:break-word; max-width:560px; font-size:0.96rem; }
.qs-msg-meta { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-top:8px; font-size:0.75rem; color:var(--muted); }
.qs-status { color:var(--neon); font-size:0.85rem; }

/* input bar */
.qs-input-bar { display:flex; gap:10px; padding:12px 16px; border-top:1px solid rgba(255,255,255,0.02); align-items:center; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); }
.qs-attach { background:none; border:none; font-size:1.2rem; color:var(--neon); cursor:pointer; }
.qs-input-wrap { flex:1; position:relative; }
.qs-input-wrap input { width:100%; padding:12px 14px; border-radius:30px; border:1px solid rgba(255,255,255,0.03); background:rgba(255,255,255,0.01); color:#eee; outline:none; font-size:0.95rem; }
.qs-send { background:linear-gradient(90deg,var(--neon),var(--accent)); border:none; padding:10px 14px; border-radius:999px; cursor:pointer; box-shadow:0 6px 20px rgba(57,255,20,0.12); color:#020202; font-weight:700; transform:translateY(0); transition:var(--transition); }
.qs-send:hover { transform:translateY(-3px); box-shadow:0 10px 30px rgba(57,255,20,0.16); }

/* typing indicator */
.qs-typing { position:absolute; right:12px; top:50%; transform:translateY(-50%); display:none; gap:4px; }
.qs-typing span { width:6px; height:6px; border-radius:50%; background:var(--neon); opacity:0.25; display:inline-block; animation:blink 1s infinite; margin-left:3px; }
.qs-typing span:nth-child(2){ animation-delay:0.15s } .qs-typing span:nth-child(3){ animation-delay:0.3s }
@keyframes blink { 0%{opacity:0.15; transform:translateY(0)} 50%{opacity:1; transform:translateY(-4px)} 100%{opacity:0.15; transform:translateY(0)} }

/* small responsiveness */
@media (max-width:900px){
  .qs-dm-root { grid-template-columns: 1fr; }
  .qs-sidebar { display:none; }
}
